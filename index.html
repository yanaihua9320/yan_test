<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>高中选科测评 | 科学选科指导</title>
  <link rel="stylesheet" href="./styles.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body class="bg-gray-50">
  <!-- 顶部导航 -->
  <header class="bg-white shadow-sm py-4 px-5 sticky top-0 z-50">
    <div class="flex justify-center items-center">
      <span class="icon" style="color: #3B82F6; margin-right: 0.5rem;">🎓</span>
      <h1 class="text-lg font-semibold">高中选科测评</h1>
    </div>
  </header>

  <!-- 主内容区 -->
  <main class="px-5 pb-24 pt-4">
    <!-- 登录页面 -->
    <section id="login-section" class="mt-6">
      <div class="bg-white rounded-2xl p-6 shadow-sm mb-6">
        <h2 class="text-xl font-bold mb-4">用户信息登记</h2>
        <p class="text-gray-600 mb-5">
          为了保存您的测评结果并提供个性化建议，请填写以下信息。
        </p>
        
        <form id="login-form">
          <div class="form-group">
            <label class="form-label" for="username">昵称</label>
            <input type="text" id="username" class="form-input" placeholder="请输入您的昵称" required>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="phone">手机号</label>
            <input type="tel" id="phone" class="form-input" placeholder="请输入您的手机号" pattern="[0-9]{11}" required>
            <p class="text-xs text-gray-500 mt-1">请输入11位手机号码</p>
          </div>
          
          <div class="form-group">
            <label class="form-label" for="grade">年级</label>
            <select id="grade" class="form-input" required>
              <option value="">请选择您的年级</option>
              <option value="高一">高一</option>
              <option value="高二">高二</option>
              <option value="高三">高三</option>
            </select>
          </div>
          
          <button type="submit" class="btn-primary w-full mt-4">
            开始测评 <span class="icon" style="margin-left: 0.25rem;">→</span>
          </button>
        </form>
      </div>
      
      <div class="bg-primary/5 rounded-xl p-4">
        <h3 class="text-base font-medium mb-2 flex items-center">
          <span class="icon" style="color: #3B82F6; margin-right: 0.5rem;">🔒</span> 隐私说明
        </h3>
        <p class="text-gray-600 text-sm">
          我们承诺保护您的个人信息安全，仅用于测评结果记录和分析，不会用于其他商业用途。
        </p>
      </div>
    </section>

    <!-- 开始页面 -->
    <section id="start-section" class="mt-6 hidden">
      <div class="bg-white rounded-2xl p-6 shadow-sm mb-6">
        <h2 class="text-xl font-bold mb-4">科学选科测评</h2>
        <p class="text-gray-600 mb-5">
          本测评包含100道题，将从兴趣、能力、学科倾向等维度，
          为您推荐最适合的选科组合。<br><br>
          <span class="text-primary font-medium">建议用时：15-20分钟</span>
        </p>
        
        <div class="space-y-3 mb-6">
          <div class="flex items-start">
            <span class="icon" style="color: #3B82F6; margin-top: 0.25rem; margin-right: 0.75rem;">✅</span>
            <span class="text-gray-600 text-sm">根据兴趣与能力综合评估</span>
          </div>
          <div class="flex items-start">
            <span class="icon" style="color: #3B82F6; margin-top: 0.25rem; margin-right: 0.75rem;">✅</span>
            <span class="text-gray-600 text-sm">适合新高考3+1+2/3+3模式</span>
          </div>
          <div class="flex items-start">
            <span class="icon" style="color: #3B82F6; margin-top: 0.25rem; margin-right: 0.75rem;">✅</span>
            <span class="text-gray-600 text-sm">提供个性化选科建议</span>
          </div>
        </div>
        
        <button id="start-btn" class="btn-primary w-full">
          开始测评 <span class="icon" style="margin-left: 0.25rem;">→</span>
        </button>
      </div>
      
      <div class="bg-primary/5 rounded-xl p-4">
        <h3 class="text-base font-medium mb-2 flex items-center">
          <span class="icon" style="color: #3B82F6; margin-right: 0.5rem;">💡</span> 测评说明
        </h3>
        <p class="text-gray-600 text-sm">
          请根据真实情况作答，无需过度思考。所有题目没有对错之分，
          您的选择将直接影响推荐结果的准确性。
        </p>
      </div>
    </section>

    <!-- 测评页面 -->
    <section id="test-section" class="mt-6 hidden">
      <!-- 进度显示 -->
      <div class="mb-5">
        <div class="flex justify-between mb-2">
          <span class="text-xs text-gray-500">进度</span>
          <span class="text-xs font-medium text-primary" id="progress-text">1/100</span>
        </div>
        <div class="progress-bar">
          <div id="progress-fill" class="progress-fill" style="width: 1%"></div>
        </div>
      </div>

      <!-- 题目卡片 -->
      <div class="bg-white rounded-2xl p-5 shadow-sm mb-6">
        <h3 class="text-base font-semibold mb-4" id="question-number">问题 1/100</h3>
        <p class="text-gray-800 text-base mb-5" id="question-content">
          我对历史事件的因果关系分析很感兴趣
        </p>
        
        <!-- 选项列表 -->
        <div class="space-y-2" id="options-container">
          <label class="option-item block">
            <input type="radio" name="question" value="3" class="mr-2">
            非常符合
          </label>
          <label class="option-item block">
            <input type="radio" name="question" value="2" class="mr-2">
            比较符合
          </label>
          <label class="option-item block">
            <input type="radio" name="question" value="1" class="mr-2">
            不太符合
          </label>
          <label class="option-item block">
            <input type="radio" name="question" value="0" class="mr-2">
            完全不符合
          </label>
        </div>
      </div>

      <!-- 导航按钮 -->
      <div class="flex justify-between">
        <button id="prev-btn" class="bg-white border border-gray-300 text-gray-700 py-4 px-6 rounded-xl text-base font-medium disabled" disabled>
          <span class="icon" style="margin-right: 0.25rem;">←</span> 上一题
        </button>
        <button id="next-btn" class="btn-primary">
          下一题 <span class="icon" style="margin-left: 0.25rem;">→</span>
        </button>
      </div>
    </section>

    <!-- 结果页面 -->
    <section id="result-section" class="mt-6 hidden">
      <div class="text-center mb-6">
        <h2 class="text-xl font-bold">您的选科推荐</h2>
        <p class="text-gray-500 text-sm mt-1">基于您的测评结果</p>
      </div>

      <!-- 结果卡片 -->
      <div class="bg-white rounded-2xl p-5 shadow-sm mb-6">
        <!-- 结果类型 -->
        <div class="flex justify-center mb-6">
          <div id="result-type" class="px-6 py-2 rounded-full text-white font-medium text-base">
            文综倾向
          </div>
        </div>
        
        <!-- 得分雷达图占位 -->
        <div class="w-full h-48 bg-gray-50 rounded-xl mb-6 flex items-center justify-center">
          <div style="text-align: center; color: #6b7280;">
            <div style="font-size: 3rem; margin-bottom: 0.5rem;">📊</div>
            <div>能力分析图表</div>
          </div>
        </div>
        
        <!-- 推荐组合 -->
        <div class="mb-6">
          <h3 class="text-base font-medium mb-3">推荐选科组合</h3>
          <div id="recommend-combo" class="flex flex-wrap gap-2">
            <span class="px-3 py-1 bg-liberal/20 text-liberal rounded-full text-sm">历史</span>
            <span class="px-3 py-1 bg-liberal/20 text-liberal rounded-full text-sm">地理</span>
            <span class="px-3 py-1 bg-liberal/20 text-liberal rounded-full text-sm">政治</span>
          </div>
        </div>
        
        <!-- 结果分析 -->
        <div>
          <h3 class="text-base font-medium mb-3">结果分析</h3>
          <p id="result-analysis" class="text-gray-600 text-sm leading-relaxed">
            您在人文社科类题目中表现出较强的兴趣和潜力，对历史事件分析、社会现象解读等领域有天然的敏感度。这类选科组合适合未来报考法学、新闻学、社会学等专业方向。
          </p>
        </div>
      </div>

      <!-- 行动按钮 -->
      <div class="flex flex-col gap-3">
        <button id="save-result" class="btn-primary">
          <span class="icon" style="margin-right: 0.25rem;">💾</span> 保存结果到服务器
        </button>
        <button id="restart-btn" class="bg-white border border-primary text-primary py-4 px-6 rounded-xl text-base font-medium">
          <span class="icon" style="margin-right: 0.25rem;">🔄</span> 重新测评
        </button>
      </div>
    </section>
  </main>

  <script src="./app.js"></script>
</body>
</html>

